"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90801],{77603:function(e,t,r){r.d(t,{F:function(){return n}});var i=r(20120);let n={[i.l.COMMERCIAL_FOR_RENT]:"commercial_rent",[i.l.COMMERCIAL_FOR_SALE]:"commercial_buy",[i.l.RESIDENTIAL_FOR_RENT]:"rent",[i.l.RESIDENTIAL_FOR_SALE]:"buy",[i.l.NEW_PROJECTS]:"new_projects_buy"}},82549:function(e,t,r){r.d(t,{F:function(){return i}});let i=25},86811:function(e,t,r){let i;r.d(t,{T:function(){return c}});var n=r(32537),a=r(279),o=r(10953),s=r(60483),l=r(63344),u=r(43819);class d{load(e,t){this.context=t,(0,u.G)().propertyLoad(parseInt(e.id,10),this.context)}impression(e,t){let r=parseInt(e.id,10);this.context=t,e.liveViewing&&this.sendCustomEventViaStatsData(r,"Live Viewing","Impression"),e.videoUrl&&this.sendCustomEventViaStatsData(r,"Virtual Tour","Impression"),this.sendCustomEventViaStatsData(r,"360","Impression",e=>!!e.has360View),(0,u.G)().propertyImpression(r,this.context)}click(e){let t=parseInt(e.id,10);e.liveViewing&&this.sendCustomEventViaStatsData(t,"Live Viewing","Click"),e.videoUrl&&this.sendCustomEventViaStatsData(t,"Virtual Tour","Click"),this.sendCustomEventViaStatsData(t,"360","Click",e=>!!e.has360View),(0,u.G)().propertyClick(t,{...this.context||{},authentication:{attributionId:(0,l.j)().push("property",t.toString())}})}sendCustomEventViaStatsData(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0;(0,o.v)(()=>(0,a.StatsDataService)().getPropertyStore().load(e).then(e=>{let a=new n.GtmStatsAdapterListingStatus(e.listingStatusDisplayed).getData();i(e)&&s.q.send({event:"customEvent",eventCategory:t,eventAction:"".concat(t," - ").concat(r," - ").concat(a),eventLabel:"".concat(this.pageType," - ").concat(t," - ").concat(r," - ").concat(a)})}).catch(console.error))}constructor(e,t,r){this.pageType=e,this.abTests=t,this.context=r}}function c(e,t){return i||(i=new d(t||"",e)),i}},17893:function(e,t,r){r.d(t,{Z:function(){return a}});var i=r(25237),n=r.n(i);let a=n()(()=>Promise.all([r.e(1950),r.e(24330),r.e(66289)]).then(r.bind(r,39239)).then(e=>e.SanitizeHtmlAsync),{loadableGenerated:{webpack:()=>[39239]},ssr:!0})},97331:function(e,t,r){r.d(t,{L:function(){return n}});var i=r(20120);let n=e=>e===i.l.COMMERCIAL_FOR_RENT||e===i.l.RESIDENTIAL_FOR_RENT},23125:function(e,t,r){r.d(t,{A:function(){return C}});var i=r(279),n=r(2784),a=r(84033),o=r(77603),s=r(7461),l=r(86811),u=r(79052),d=r(29894),c=r(46423),p=r(6180),g=r(56506);let m=e=>{var t,r,i;let{agent:n,position:a,positionPage:o}=e;return{id:(null==n?void 0:n.id)||0,position:a||0,positionPage:o||a||0,listingStatus:"Area Specialist Agent",name:(null==n?void 0:n.name)||"",broker:{id:(null==n?void 0:null===(t=n.broker)||void 0===t?void 0:t.id)||0,name:(null==n?void 0:null===(r=n.broker)||void 0===r?void 0:r.name)||""},jobPosition:null==n?void 0:n.position,rera:null==n?void 0:n.licenseNumber,image:(null==n?void 0:null===(i=n.image)||void 0===i?void 0:i.links.desktop)||"",isSmartAd:0,isSmartAdAgent:0,isVerified:null==n?void 0:n.verified}},v=e=>{let{broker:t,position:r,positionPage:i}=e;return{id:(null==t?void 0:t.id)||0,position:r||0,positionPage:i||r||0,listingStatus:"standard",name:(null==t?void 0:t.name)||"",isSmartAd:0}};var _=r(76413),E=r(96287);let f=(e,t)=>{let r=new Map;if(r.set("trigger",e),t.text&&r.set("text",t.text),t.id&&r.set("agent_id",t.id),t.location_id&&r.set("location_id",t.location_id),t.category_id&&r.set("category_id",t.category_id),t.nationality&&r.set("nationality_id",t.nationality),t.language_ids){var i,n;r.set("language_ids",null===(n=t.language_ids)||void 0===n?void 0:null===(i=n.split(","))||void 0===i?void 0:i.map(e=>parseInt(e,10)))}return t.sort&&r.set("sort_id",t.sort),(0,E.U)(Object.fromEntries(r),!1)},T=(e,t)=>{let r=new Map;return r.set("trigger",e),t.text&&r.set("text",t.text),t.id&&r.set("agent_id",t.id),t.location_id&&r.set("location_id",t.location_id),t.category_id&&r.set("category_id",t.category_id),t.sort&&r.set("sort_id",t.sort),(0,E.U)(Object.fromEntries(r),!1)},S=e=>{var t;let r=new Map;r.set("category",parseInt(e[s.T.CATEGORY_ID],10)),r.set("locations",e[s.T.LOCATION_IDS].map(e=>parseInt(e.id,10))),r.set("property_type_id",parseInt(e[s.T.PROPERTY_TYPE_ID],10)),r.set("rental_period",e[s.T.PRICE_PERIOD]),r.set("price_min",e[s.T.MIN_PRICE]),r.set("price_max",e[s.T.MAX_PRICE]),r.set("area_min",e[s.T.MIN_AREA]),r.set("area_max",e[s.T.MAX_AREA]),r.set("furnished",parseInt(e[s.T.FURNISHING]||"",10)),r.set("amenities",null===(t=e[s.T.AMENITIES])||void 0===t?void 0:t.map(e=>e)),r.set("keywords",e[s.T.KEYWORD]),r.set("is_developer_property",e[s.T.IS_DEVELOPER_PROPERTY]?"true":"false"),r.set("min_installment_years",e[s.T.MIN_INSTALLMENT_YEARS]),r.set("max_installment_years",e[s.T.MAX_INSTALLMENT_YEARS]),r.set("sort",e[s.T.SORT]),r.set("virtual_viewings",e[s.T.VIRTUAL_VIEWINGS]),r.set("completion_status",e[s.T.COMPLETION_STATUS]);let i=e[s.T.BEDROOMS];(null==i?void 0:i.length)&&(r.set("bedroom_min",parseInt(i[0])),r.set("bedroom_max",i.length>1?parseInt(i[i.length-1],10):""));let n=e[s.T.BATHROOMS];return(null==n?void 0:n.length)&&(r.set("bedroom_min",parseInt(n[0])),r.set("bedroom_max",n.length>1?parseInt(n[n.length-1],10):"")),(0,E.U)(Object.fromEntries(r),!1)};var y=r(52295),I=r(82549),R=r(94201);let h=e=>{var t,r;return{...(0,R.A)(e),image:null===(r=e.property.images)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.medium,licenseRera:e.property.rera,images:e.property.images.length,position:I.F*(e.pageNumber-1)+e.index+1}};var A=r(43819);let C=e=>{var t,r,E,I,R,C,b,P;let{abTests:D,countryConfigs:k}=(0,g.A)(),w=(0,a.O_)(),O=(0,n.useRef)(),L=(0,n.useRef)([]),x=(0,n.useRef)([]),N=(0,n.useRef)([]),V=(0,n.useRef)(!1),G=[],M=[],F=[];if(!w)return;if(e.pageType===u.D.HOME){if(V.current)return}else if(G=(null!==(I=e.properties)&&void 0!==I?I:[]).map(e=>e.id),M=(null!==(R=e.agents)&&void 0!==R?R:[]).map(e=>String(e.id)),F=(null!==(C=e.brokers)&&void 0!==C?C:[]).map(e=>String(e.id)),O.current===e.filtersValueFromQuery||(0,d.Q)(L.current,G)&&(0,d.Q)(x.current,M)&&(0,d.Q)(N.current,F))return;let Y=(0,A.G)(),Q=(0,_.Q)();Y.reset(),Q.setAbTests(e.abTests);let U=(0,l.T)(D,e.pageType),j=(0,c.M)(),B=(0,p.u)();switch(e.pageType){case u.D.PROPERTY_SERP:case u.D.LTP:Q.setPropertySerp(!0),Q.setPropertySearch(S(e.filtersValueFromQuery)),Q.setPropertyCategoryIdentifier(o.F[e.filtersValueFromQuery[s.T.CATEGORY_ID]]);break;case u.D.AGENT_DETAIL:Q.setAgentPage(!0);break;case u.D.AGENT_SERP:Q.setAgentSerp(!0),Q.setAgentSearch(f("update",e.filtersValueFromQuery));break;case u.D.AGENT_LANDING:Q.setAgentHome(!0);break;case u.D.BROKER_DETAIL:Q.setBrokerPage(!0);break;case u.D.BROKER_SERP:Q.setBrokerSerp(!0),Q.setBrokerSearch(T("update",e.filtersValueFromQuery));break;case u.D.BROKER_LANDING:Q.setBrokerHome(!0);break;case u.D.PROJECT_DETAIL:Q.setProjectDetail(!0);break;case u.D.HOME:Q.setHomePage(!0),V.current=!0}switch(Y.pageView(),e.pageType){case u.D.LTP:case u.D.PROPERTY_SERP:case u.D.PROJECT_DETAIL:Y.propertySerp(e.localContext);break;case u.D.BROKER_SERP:Y.brokerSerp(e.localContext);break;case u.D.AGENT_SERP:Y.agentSerp(e.localContext);break;case u.D.HOME:Y.homePage()}(null==e?void 0:null===(t=e.agents)||void 0===t?void 0:t.length)&&(null===(b=e.agents)||void 0===b||b.forEach((t,r)=>{let n=r+1;e.localContext.pagination.pageCurrent&&e.localContext.pagination.itemPerPage&&(n+=(e.localContext.pagination.pageCurrent-1)*e.localContext.pagination.itemPerPage),(0,i.StatsDataService)().getAgentStore().add(m({agent:t,position:n,positionPage:r+1})),j.load(t,e.localContext)})),(null==e?void 0:null===(r=e.brokers)||void 0===r?void 0:r.length)&&(null===(P=e.brokers)||void 0===P||P.forEach((t,r)=>{let n=r+1;e.localContext.pagination.pageCurrent&&e.localContext.pagination.itemPerPage&&(n+=(e.localContext.pagination.pageCurrent-1)*e.localContext.pagination.itemPerPage),(0,i.StatsDataService)().getBrokerStore().add(v({broker:t,position:n,positionPage:r+1})),B.load(t,e.localContext)})),(null===(E=e.properties)||void 0===E?void 0:E.length)>0&&e.properties.forEach((t,r)=>{(0,i.StatsDataService)().getPropertyStore().add(e.pageType===u.D.PROPERTY_DETAIL?(0,y.Y)({property:t,index:r,pageNumber:0,categoryId:t.categoryId,countryConfigs:k}):h({property:t,index:r,pageNumber:e.filtersValueFromQuery[s.T.PAGE_NUMBER],categoryId:e.filtersValueFromQuery[s.T.CATEGORY_ID],countryConfigs:k})),U.load(t,e.localContext)}),O.current=e.filtersValueFromQuery,L.current=G,x.current=M,N.current=F}},46423:function(e,t,r){let i;r.d(t,{M:function(){return o}});var n=r(63344),a=r(43819);function o(){if(!i){let e;e={},i={load(t,r){e=r,(0,a.G)().agentLoad(t.id,r)},impression(e,t){(0,a.G)().agentImpression(e.id,t)},click(t){(0,a.G)().agentClick(t.id,{...e||{},authentication:{attributionId:(0,n.j)().push("agent",t.id.toString())}})}}}return i}},6180:function(e,t,r){let i;r.d(t,{u:function(){return o}});var n=r(63344),a=r(43819);function o(){if(!i){let e;e={},i={load(t,r){e=r,(0,a.G)().brokerLoad(t.id,r)},impression(e,t){(0,a.G)().brokerImpression(e.id,t)},click(t){(0,a.G)().brokerClick(t.id,{...e||{},authentication:{attributionId:(0,n.j)().push("broker",t.id.toString())}})}}}return i}},63344:function(e,t,r){let i;r.d(t,{j:function(){return s}});var n=r(66522),a=r(26823),o=r(55670);function s(){if(!i&&o.z){let e=(0,n.q)();e.setStorage(window.localStorage),i=new a.G(e)}return i}},94201:function(e,t,r){r.d(t,{A:function(){return s}});var i=r(77603),n=r(97331),a=r(48862);let o=e=>({off_plan:"off_plan","off plan":"off_plan",completed:"completed"})[e]||null,s=e=>{let{property:t,index:r,categoryId:s,countryConfigs:l}=e,u=i.F[s],d=(0,n.L)(s),c=t.agent,p=t.broker,g=t.price?t.price.period:"",m=(0,a.I)(t),v=t.isSmartAd,_=t.isCts,E=t.isCommunityExpert;return{id:parseInt(t.id,10),referenceNumber:t.reference,bedrooms:t.bedrooms,bathrooms:t.bathrooms,agent:{id:c?parseInt(c.id,10):0,name:(null==c?void 0:c.name)||"",isVerified:(null==c?void 0:c.isVerified)||!1},broker:{id:p?parseInt(p.id,10):0,name:(null==p?void 0:p.name)||""},title:t.title,url:t.shareUrl,offeringType:u,housingType:t.propertyType.toLowerCase(),housingTypeId:parseInt(t.propertyTypeId,10),listingStatus:m,listingStatusDisplayed:E?"Area Specialist Property":t.listingLevelLabel,rentalPeriod:d&&g?g:"",rentalPeriodId:d&&g?g.toLowerCase():"",size:t.size.value,agentUserId:(null==c?void 0:c.userId)?parseInt(c.userId):0,verified:t.isVerified?"Verified":"Not verified",qs:t.qs,rsp:t.rsp,rss:t.rss,furnished:t.furnished,locations:(t.locationTreeCompact||[]).map(e=>parseInt(e.id,10)),...t.price&&{price:t.price.value,priceTxt:t.price.text,getPriceOnApp:t.price.isHidden},currency:l.currencyCode,subtitle:t.subtitle,mortgageRent:!1,moveSouq:!1,positionPage:r+1,isSmartAd:v?1:0,isCtsProperty:_?1:0,isAreaSpecialistProperty:E?1:0,completionStatus:o(t.completionStatus),isExclusive:t.isExclusive,has360View:t.hasView360,newProjects:t.isNewConstruction,leadValue:t.leadValue||1}}},52295:function(e,t,r){r.d(t,{Y:function(){return n}});var i=r(94201);let n=e=>{var t;return{...(0,i.A)(e),image:null===(t=e.property.images.property[0])||void 0===t?void 0:t.medium,licenseRera:e.property.rera.number,images:e.property.images.property.length,position:0}}},43819:function(e,t,r){let i;r.d(t,{G:function(){return I}});var n=r(70105),a=r(66522),o=r(118),s=r(21242),l=r(1805),u=r(68088),d=r(14055),c=r(57522),p=r(77037),g=r(47130),m=r(3835),v=r(47734),_=r(10953),E=r(29392),f=r(29480),T=r(76413);let S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");let r=RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\\+/g," ")):"":null},y={init:()=>{let e=!!S("trace-stats");(0,m.o)().activate(e)}};function I(){if(!i){let e=E.k.get(),t=new o.E(window);t.setDelay(1e3),i=new p.U((0,s.F)(),(0,T.Q)(),(0,g.h)(),(0,m.o)()),y.init();let r={isAuthorized:()=>!0};new d.Snowplow2StatsObserver(new c.j(window,(0,m.o)(),r)).attachListeners(i),new l.GtmStatsObserver(new u.A(window,t,(0,m.o)(),r)).attachListeners(i);let S=(0,a.q)();S.setStorage(window.localStorage),(0,T.Q)().initialize({authentication:{token:new n.u(S).getToken()},application:v.Y,country:e.countryCode,currency:e.currencyCode,language:f.O.getLocale()});let I=i.propertyLeadClick.bind(i);i.propertyLeadClick=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];(0,_.v)(()=>I(...t))}}return i}},48862:function(e,t,r){r.d(t,{I:function(){return i}});let i=e=>e.isPremium?"premium":e.isFeatured?"featured":"standard"}}]);